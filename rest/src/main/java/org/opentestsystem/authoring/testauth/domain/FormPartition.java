/*******************************************************************************
 * Educational Online Test Delivery System
 * Copyright (c) 2013 American Institutes for Research
 * 
 * Distributed under the AIR Open Source License, Version 1.0
 * See accompanying file AIR-License-1_0.txt or at
 * http://www.smarterapp.org/documents/American_Institutes_for_Research_Open_Source_Software_License.pdf
 ******************************************************************************/
package org.opentestsystem.authoring.testauth.domain;

import java.io.Serializable;

import org.hibernate.validator.constraints.NotBlank;
import org.springframework.data.annotation.Transient;
import org.springframework.data.mongodb.core.index.CompoundIndex;
import org.springframework.data.mongodb.core.index.CompoundIndexes;
import org.springframework.data.mongodb.core.mapping.Document;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;

@Document
@JsonIgnoreProperties(ignoreUnknown = true)
@CompoundIndexes(value = {
        @CompoundIndex(name = FormPartition.NAME_INDEX_NAME, def = "{'formId':1, 'name':1}", unique = true),
        @CompoundIndex(name = FormPartition.SEGMENT_INDEX_NAME, def = "{'formId':1, 'segmentId':1}", unique = true)
})
public class FormPartition extends AssessmentChild implements Serializable, TenantedByAssessment {
    private static final long serialVersionUID = 3472314522679538168L;
    public static final String SEGMENT_INDEX_NAME = "formPartition_segmentId_indx";
    public static final String NAME_INDEX_NAME = "formPartition_name_indx";

    @NotBlank(message = "formPartition.formId.required")
    private String formId;

    @NotBlank(message = "formPartition.segmentId.required")
    private String segmentId;

    @NotBlank(message = "formPartition.name.required")
    private String name;

    @Transient
    private transient Segment segment;

    @Transient
    private transient Form form;

    public String getFormId() {
        return this.formId;
    }

    public void setFormId(final String aFormId) {
        this.formId = aFormId;
    }

    public String getSegmentId() {
        return this.segmentId;
    }

    public void setSegmentId(final String aSegmentId) {
        this.segmentId = aSegmentId;
    }

    public String getName() {
        return this.name;
    }

    public void setName(final String aName) {
        this.name = aName;
    }

    public Segment getSegment() {
        return this.segment;
    }

    public void setSegment(final Segment aSegment) {
        this.segment = aSegment;
    }

    public Form getForm() {
        return this.form;
    }

    public void setForm(final Form frm) {
        this.form = frm;
    }
}
